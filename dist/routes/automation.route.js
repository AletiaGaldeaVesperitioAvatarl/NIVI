import { Router } from "express";
import { AutomationController } from "../controller/automation.controller.js";
import { AbsensiService } from "../service/absensi.service.js";
import { AbsensiRepository } from "../repository/absensi.repository.js";
import prismaInstance from "../database.js";
import { automationAuth } from "../middlewares/automationAuth.js";
import { AbsensiSettingRepository } from "../repository/absensiSetting.repository.js";
import { AbsensiSettingService } from "../service/absensiSetting.service.js";
import { JadwalAbsensiRepository } from "../repository/jadwalAbsensi.repository.js";
import { AIService } from "../ai/ai.service.js";
import { AIAssistantService } from "../service/ai.assistant.service.js";
import { IzinRepository } from "../repository/izin.repository.js";
const router = Router();
const settingRepo = new AbsensiSettingRepository(prismaInstance);
const jadwalRepo = new JadwalAbsensiRepository(prismaInstance);
const settingService = new AbsensiSettingService(settingRepo);
const absensiRepo = new AbsensiRepository(prismaInstance);
const izinRepo = new IzinRepository(prismaInstance);
const AI = new AIService();
const AIAssistantServices = new AIAssistantService(absensiRepo, AI);
const absensiService = new AbsensiService(absensiRepo, settingService, jadwalRepo, AIAssistantServices, izinRepo);
const controller = new AutomationController(absensiService);
router.post("/generate-alpha", automationAuth, controller.generateAlpha);
export default router;
//# sourceMappingURL=automation.route.js.map
